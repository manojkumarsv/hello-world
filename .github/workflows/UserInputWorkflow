name: UserInputWorkflow

on:
  workflow_dispatch:
    inputs:
      user_input:
        description: 'User input for Workflow A'
        required: true

jobs:
  trigger-workflow-b:
    runs-on: ubuntu-latest
    
    steps:
    - name: Prepare JSON payload
      id: prepare-payload
      run: |
        echo "{\"input\": \"${{ github.event.inputs.user_input }}\"}" > payload.json
      
    - name: Trigger Workflow B
      uses: peter-evans/repository-dispatch@v1
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        event-type: workflow-b-event
        client-payload: ${{ steps.prepare-payload.outputs.payload }}
